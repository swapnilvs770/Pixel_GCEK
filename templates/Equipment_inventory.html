{% extends "base_admin.html" %}

{% block title %}Equipment Inventory - Pixel Club{% endblock %}

{% block extra_head %}
<style>
  /* Equipment_inventory.html specific styles */

  .inventory-actions {
    display: flex;
    flex-wrap: wrap; /* Allow items to wrap on smaller screens */
    justify-content: space-between;
    margin-bottom: 20px;
    gap: 10px; /* Space between action items */
  }

  .add-equipment-link,
  .inventory-actions .admin-button { /* Apply similar styling to both */
    display: inline-block;
    padding: 10px 15px;
    background-color: var(--primary-color); /* Use primary color */
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s ease, transform 0.2s ease;
    border: none; /* Ensure no default button border */
    cursor: pointer; /* Indicate clickable */
  }

  .add-equipment-link:hover,
  .inventory-actions .admin-button:hover {
    background-color: var(--secondary-color); /* Use secondary color on hover */
    transform: translateY(-2px);
  }

  /* Style for the delete button */
  .delete-btn {
    display: inline-block;
    padding: 8px 12px; /* Slightly smaller padding for action buttons */
    background-color: var(--accent-color); /* Use accent color for danger */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.9em;
    transition: background-color 0.3s ease, transform 0.2s ease;
  }

  .delete-btn:hover {
    background-color: #e5653b; /* A darker shade of accent color */
    transform: translateY(-2px);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .inventory-actions {
      flex-direction: column; /* Stack buttons vertically */
      align-items: stretch; /* Stretch items to full width */
    }

    .add-equipment-link,
    .inventory-actions .admin-button {
      width: 100%; /* Full width for buttons on small screens */
      text-align: center; /* Center text in buttons */
      margin-bottom: 10px; /* Add margin between stacked buttons */
    }

    /* Adjust delete button in card view if needed */
    table td .delete-btn {
      width: auto; /* Allow delete button to size naturally within card */
      margin: 5px 0; /* Adjust margin if stacked inside card */
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="admin-container">
  <h2>Inventory</h2>
  <div class="inventory-actions">
    <a href="/add_equipment" class="add-equipment-link">Add Equipment</a>
    <a href="{{ url_for('view_eq_requests') }}" style="text-decoration: none;">
      <button class="admin-button">ðŸ“© View Equipment Requests</button>
    </a>
  </div>

  <table border="1" cellpadding="8">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Type</th>
        <th>Brand/Model</th>
        <th>Quantity</th>
        <th>Available</th>
        <th>Notes</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for item in equipment %}
      <tr>
        <td data-label="ID">{{ item.id }}</td>
        <td data-label="Name">{{ item.name }}</td>
        <td data-label="Type">{{ item.type }}</td>
        <td data-label="Brand/Model">{{ item.brand_model }}</td>
        <td data-label="Quantity">{{ item.quantity }}</td>
        <td data-label="Available">{{ item.available }}</td>
        <td data-label="Notes">{{ item.notes or 'â€”' }}</td>
        <td data-label="Action">
          <form action="{{ url_for('delete_item', del_id=item.id) }}" method="POST"
            onsubmit="return confirm('Are you sure you want to delete this item?');">
            <button type="submit" class="delete-btn">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}